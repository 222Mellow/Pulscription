<!-- <section class="intro-wrapper">
  <div class="inner">
    <div class="intro-punks">
      <ng-container *ngFor="let p of randomPunks">
        <img
          [lazyLoad]="dataSvc.staticUrl + '/phunk' + (p | tokenIdParse) + '.svg'"
          [defaultImage]="'assets/loadingpunk.png'"
          width="50"
          height="50"
        />
      </ng-container>
    </div>
    <p class="intro">Welcome to <span class="highlight">CryptoPunks.eth</span>, a new and innovative NFT marketplace dedicated exclusively to the iconic <span class="highlight">10,000 CryptoPunks collection</span>. A cutting-edge platform that offers a seamless and secure environment for trading <span class="highlight">the original collectible digital asset CryptoPunks</span>. Our mission is to be the ultimate destination for Punk collectors, traders, and enthusiasts by providing new features and regular maintenance at the direction of the CryptoPunk community. You are encouraged to join our <a href="https://discord.com/invite/A9cv4wwVQd" target="_blank">Discord</a> and follow us on <a href="https://twitter.com/cryptopunks_ce" target="_blank">Twitter</a>, but most importantly have fun!</p>
  </div>
</section> -->

<app-splash />

<ng-container *ngIf="(dataSvc.marketData$ | async) as marketData">

  <!-- <section class="overview">
    <div class="inner">
      <app-overview></app-overview>
    </div>
  </section> -->

  <!-- Box -->
  <section class="punk-box">
    <div class="inner">

      <h3 i18n>EthPhunk Search</h3>
      <p i18n>Search a wallet address to view their EthPhunk collection or</p>
      <p>Enter an EthPhunk ID to view a specific EthPhunk</p>

      <form [formGroup]="punkBox" (ngSubmit)="onSubmit($event)">
        <div class="input-wrapper">
          <input
            type="text"
            placeholder="0x, ens or EthPhunkID"
            formControlName="addressInput"
            [class.disabled]="punkBoxLoading"
          />

          <img
            src="/assets/loader-{{ themeSvc.theme$ | async }}.gif"
            width="20" height="20"
            *ngIf="punkBoxLoading"
          />
        </div>
        <ng-container *ngIf="punkBoxError">
          <p class="highlight">Invalid Address or EthPhunkId</p>
        </ng-container>
        <button i18n type="submit">Go</button>
      </form>

    </div>
  </section>

  <ng-container *ngIf="(dataSvc.ownedData$ | async) as ownedData">
    <ng-container *ngIf="ownedData.length">
      <section *ngIf="(stateSvc.walletAddress$ | async) as address">
        <div class="inner">
          <h3 i18n>Owned</h3>

          <div class="section-stats-wrapper">
            <p i18n>Showing owned EthPhunks,
              <a
                class="highlight"
                [routerLink]="['/', 'owned']"
                [href]="'/owned'"
                [queryParams]="{ address }">

                ({{ ownedData.length | number }}) view all.
              </a>
            </p>
          </div>

          <app-punk-grid-view
            [punkData]="ownedData || []"
            [viewType]="'compact'"
            [limit]="(stateSvc.isMobile$ | async) ? 100 : 110"
            [marketType]="'owned'"
            [sort]="'price-low'">
          </app-punk-grid-view>
        </div>
      </section>
    </ng-container>
  </ng-container>

  <section>
    <div class="inner">
      <h3 i18n>For Sale</h3>

      <div
        class="section-stats-wrapper"
        *ngIf="(marketData | filter : 'listings') as listings">
        <p
          i18n
          *ngIf="(listings | calc : 'lowestListingPrice') as ethPrice">

          The lowest price EthPhunk currently for sale is
          <span class="bold">Ξ{{ ethPrice | number : '1.2-2' }} ({{ (ethPrice * ((dataSvc.usd$ | async) || 0)) | currency }} USD)</span>.
        </p>

        <p i18n>Showing lowest price offers,
          <a
            class="highlight"
            [routerLink]="['/listings']"
            [href]="'/listings'">

            ({{ marketData | count : 'listings' | number }}) view all.
          </a>
        </p>
      </div>

      <app-punk-grid-view
        [punkData]="marketData"
        [viewType]="'compact'"
        [limit]="(stateSvc.isMobile$ | async) ? 100 : 110"
        [marketType]="'listings'"
        [sort]="'price-low'">
      </app-punk-grid-view>
    </div>
  </section>

  <section>
    <div class="inner">
      <h3 i18n>Bids</h3>

      <div
        class="section-stats-wrapper"
        *ngIf="(marketData | filter : 'bids') as bids">

        <p
          i18n
          *ngIf="(bids | calc : 'averageBidPrice') as ethPrice">

          The average currently open bid is
          <span class="bold">
            Ξ{{ ethPrice | number : '1.2-2' }}
            ({{ (ethPrice * ((dataSvc.usd$ | async) || 0)) | currency }} USD)
          </span>.
        </p>

        <p
          i18n
          *ngIf="(bids | calc : 'totalBidsValue') as ethPrice">

          Total value of all current bids is
          <span class="bold">
            Ξ{{ ethPrice | number : '1.2-2' }}
            ({{ (ethPrice * ((dataSvc.usd$ | async) || 0)) | currency }} USD)
          </span>.
        </p>

        <p i18n>Showing top bids,
          <a
            class="highlight"
            [routerLink]="['/bids']"
            [href]="'/bids'">

            ({{ marketData | count : 'bids' | number }}) view all.
          </a>
        </p>
      </div>

      <app-punk-grid-view
        [punkData]="marketData"
        [viewType]="'compact'"
        [limit]="(stateSvc.isMobile$ | async) ? 100 : 110"
        [marketType]="'bids'"
        [sort]="'price-high'">
      </app-punk-grid-view>
    </div>
  </section>

  <section *ngIf="(allData$ | async) as allData">
    <div class="inner">
      <h3 i18n>All</h3>

      <div class="section-stats-wrapper">

        <p i18n>
          <a
            class="highlight"
            [routerLink]="['/all']"
            [href]="'/all'">

            View all 10,000 EthPhunks.
          </a>
        </p>
      </div>

      <app-punk-grid-view
        [punkData]="allData"
        [viewType]="'compact'"
        [limit]="(stateSvc.isMobile$ | async) ? 100 : 110"
        [marketType]="'all'"
        [sort]="'id'">
      </app-punk-grid-view>
    </div>
  </section>

</ng-container>
